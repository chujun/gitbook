


事务7个传播级别
Propagation
* REQUIRED 默认，支持当前事务中执行，没有事务就创建一个新事务
  应用：最常用场景，绝大多数业务默认都采用该级别

* REQUIRES_NEW 如果事务不存在创建新事务，挂起当前事务（两个事务完全独立）
  应用：1.创建支付单，然后发起第三方支付，而创建支付单数据必须先保存下来
  2.大佬举例的一个典型场景，假设生成分布式id需要依赖db锁,单独一个事务获取成功后立即提交可以做到尽快释放db锁，不被外面的大事务给拖累
* NESTED 如果事务存在，在内嵌事务中执行(父事务和子事务，父事务提交子事务才会提交，针对内嵌事务抛出异常处理方式父事务可以根据情况默认上抛或者捕获处理)
  应用：运单核心数据不可丢失，非核心数据允许丢失(非核心数据处于内嵌事务中，内嵌事务抛出异常父事务捕获住打印日志记录，降级处理)


* SUPPORTS 支持当前事务中执行，没有事务就以无事务方式执行（有事务则以事务方式执行，没有事务则以无事务方式执行）
* NOT_SUPPORTED 如果事务存在，则以无事务方式执行，挂起当前事务（无论有没有事务都以无事务方式执行）

* MANDATORY 强制要求存在事务，没有事务则跑出异常
* NEVER 非事务方式执行，如果事务存在则抛出异常

# 源码
获取事务
源码入口
AbstractPlatformTransactionManager.getTransaction
如何处理已经存在的事务
AbstractPlatformTransactionManager.handleExistingTransaction
# 资料

## 
https://www.iteye.com/topic/35907
