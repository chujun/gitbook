# 基准测试(benchmark)
针对系统设计的一种压力测试

## 为什么需要基准测试
* 测试系统当前运行情况
* 规划未来业务增长
* 找出可能的瓶颈
* 测试不同硬件，软件和操作系统配置
* 重现系统某些异常
* 等等

## 基准测试的策略
**集成式基准测试**

针对整个系统的整体测试

*单组件式基准测试*

单独测试MySQL

### 明确测试目标
* 吞吐量:单位时间内的事务处理数

TPS(每秒事务处),TPM(每分钟事务数)

* 响应时间：测试任务所需的整体时间

平均响应时间，最小响应时间，最大响应时间，百分比响应时间(例如常说的99线)

* 并发性：正在工作中的并发操作/同时工作中的线程数，连接数

例如32/64/128个线程下测试

* 可扩展性


## 基准测试方法
常见错误
* 没有检查错误
* 忽略系统预热
* 测试时间太短

### 设计和规划基准测试

测试准备数据

测试规划
* 记录测试数据(系统性能和状态)
* 系统配置步骤
* 如何测量和分析结果
* 预热方案
* 等等

### 基准测试运行时长考量
* 系统预热时长
* 稳定运行时长应该足够长

### 获取系统性能和状态
* 测试结果(CPU使用率，磁盘I/O,网络流量统计,SHOW GLOBAL STATUS计数器等)
* 配置文件
* 测试指标
* 脚本
* 其他相关说明

### 获得准确的测试结果

### 运行基准测试并分析结果
自动化基准测试

* 装载数据
* 系统预热
* 执行测试
* 记录结果

脚本分析
[script/mysql_analyze.sh](script/mysql_analyze.sh)

# 资料
[TPC-C](http://www.tpc.org/)