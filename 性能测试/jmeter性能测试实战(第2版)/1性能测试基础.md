# 1.3 性能测试
性能测试实施过程的几个关键活动
* 定义验收标准：具体来说，定义好响应时间，吞吐量以及资源利用率和约束条件
* 定义测试环境
* 规划并设计测试用例
* 准备测试环境
* 准备测试计划
* 运行测试:脚本录制，关注服务器日志，资源监控
* 分析结果,报告和重测试

检查每一次成功执行的结果，识别需要解决的瓶颈。
瓶颈可能与系统、数据库或应用有关。
出现系统相关的瓶颈可能需要调整基础设施，
例如，增加应用的可用内存，降低CPU使用率，增大或减小线程池，调整数据库连接池大小，调整网络设置等。
出现数据库相关的瓶颈需要分析被测应用中的数据库I/O操作、高级查询，分析SQL查询，增加索引，执行数据采集，改变表中的页大小和锁等。
最后，出现应用相关的瓶颈可能需要重构应用元件，降低应用内存使用率，减少数据库中的读取/写入等。

识别到的瓶颈问题解决后，应该重新运行测试并和之前的运行比较。
为了跟踪哪些调整解决了特定瓶颈问题，按顺序同一时间只做一个调整至关重要。
换句话说，一旦进行了调整，就应该重新按照测试计划运行一次并与之前的测试结果进行比较，看这次调整对结果产生了正面还是负面的影响。
这个过程将一直重复，直到达到项目要求的性能指标。


性能测试通常需要各个角色合作完成，
包括业务干系人、企业架构师、开发人员、测试人员、数据库管理员、系统管理员以及网络管理员。
要在测试实施中获得准确、有效的测试结果，这些角色的相互合作是非常必要的。

在不断的调优过程中监控网络占用率、数据库I/O、等待时间、
高级查询以及调用次数可以帮助找到瓶颈或找到值得进一步关注的区域。

# 1.4性能测试与调优
性能测试与调优紧密相关。
调优工作包括但不限于以下内容
* 调整系统资源配置
* 优化数据库配置
* 减少应用的调用次数，有时需要重新设计有问题的模板并调整架构
* 扩展应用与提高数据库服务器性能
* 减少应用资源占用量
* 优化和重构代码，包括消除冗余和缩短执行时间

测试-调优循环的结果通常会产生一个基线

## 1.4.1基线
基线是为评估系统或应用连续调整的效果而获取性能指标数据的过程。
除为了对比性能而特意变化的特征和配置之外，保持相同的特征和配置对于有效对比某个调整（或一系列调整）
在性能调优中的正面作用非常重要。

### 定基准时需要考虑的问题
●基线数据应该是应用程序特定的。
●可以为系统、应用或者模块建立基线。
●基线数据是指标数据/结果。
●基线数据不应该过于概括。
●随时间变化可能需要重新定义基线数据。
●基线数据可以当作共享的参考框架。
●基线数据应该是可重用的。
●基线数据可以帮助识别性能的变化。

## 1.4.2 负载和压力测试

# 1.5JMeter
## jmeter的部分特性
* 支持各种不同服务器类型，包括Web（HTTP和HTTPS）、SOAP、数据库、LDAP、JMS、邮件以及本地命令或shell脚本的性能测试。
* 可以在各种操作平台间移植。
* 具有真正的多线程框架，允许通过多个线程发出并发的请求和通过单独的线程组向不同功能发出并发的请求。 
* 具有图形用户界面（Graphical User Interface, GUI）。
* 支持通过HTTP代理录制服务器。
* 支持缓存和离线分析/测试结果回放。
* 在测试过程中测试结果实时可见。

## jmeter不支持的操作
* JMeter无法执行所有浏览器支持的操作
* 尤其是JMeter无法执行HTML页面中的JavaScript代码
* 也无法像浏览器那样提交HTML页面

## JMeter将帮助你回答类似以下问题
* 如果50个用户并发访问应用，应用是否仍能响应？
* 在负载为200个用户的情况下应用是否可用？
* 在负载为250个用户的情况下系统消耗多少资源？
* 在系统中活跃用户达到1000个的情况下吞吐量如何？
* 应用中不同的元件在负载下的响应时间如何？

## jmeter的限制
此外，同一台机器上的并发用户数有限制。
这依赖于机器性能（如内存、处理器个数等）以及运行的测试场景。
根据我们的经验，在一台拥有2.2GHz处理器和8GBRAM的机器上可以支持250～250个并发用户。

# 1.6 安装和运行JMeter
## 安装


